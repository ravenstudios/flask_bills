{% extends 'base-template.html' %}
{% block content %}
<div id="content">
  <h1>Bills Not Assigned</h1>
  <table>
    <tr class="notification is-warning">
      <th>Name</th>
      <th>amount</th>
      <th>Due Date</th>
      <th>Date Paid</th>
      <th>Is Paid</th>
      <th>Notes</th>
    </tr>
    {% for bill in bills %}
      {% if bill.paycheck_id == "" and bill.is_paid != True %}
        <tr class="notification is-warning">
              <td>{{ bill.name }}</td>
              <td>{{ bill.amount }}</td>
              <td>{{ bill.due_date }}</td>
              <td>{{ bill.date_paid }}</td>
              <td>{{ bill.is_paid }}</td>
              <td>{{ bill.notes }}</td>

              <td>
                <button type="button" name="button" onclick="confirmDelete('/remove-bill?_id={{ bill._id }}', 'bill')">DEL</button>
              </td>

              <td><a href="/edit-bill-form?_id={{ bill._id }}">Edit</a></td>
              <td><a href="/paid-bill?_id={{ bill._id }}">Paid</a></td>
        </tr>
        {% endif %}
      {% endfor %}
  </table>

  <h1>Bills Paid</h1>
  <table>
    <tr class="notification is-link">
      <th>Name</th>
      <th>amount</th>
      <th>Due Date</th>
      <th>Date Paid</th>
      <th>Is Paid</th>
      <th>Notes</th>
    </tr>
    {% for bill in bills %}
      {% if bill.is_paid == True %}
        <tr class="notification is-link">
              <td>{{ bill.name }}</td>
              <td>{{ bill.amount }}</td>
              <td>{{ bill.due_date }}</td>
              <td>{{ bill.date_paid }}</td>
              <td>{{ bill.is_paid }}</td>
              <td>{{ bill.notes }}</td>

              <td><button type="button" name="button" onclick="confirmDelete('/remove-bill?_id={{ bill._id }}', 'bill')">DEL</button></td>
              <td><a href="/unpay-bill?_id={{ bill._id }}">Unpay</a></td>

        </tr>
        {% endif %}
      {% endfor %}
  </table>
  <h1>All Bills</h1>
  <table>
    <tr class="notification is-success">
      <th>Name</th>
      <th>amount</th>
      <th>Due Date</th>
      <th>Date Paid</th>
      <th>Is Paid</th>
      <th>Notes</th>
    </tr>
    {% for bill in bills %}
      <tr class="notification is-success">
            <td>{{ bill.name }}</td>
            <td>{{ bill.amount }}</td>
            <td>{{ bill.due_date }}</td>
            <td>{{ bill.date_paid }}</td>
            <td>{{ bill.is_paid }}</td>
            <td>{{ bill.notes }}</td>
            <td><button type="button" name="button" onclick="confirmDelete('/remove-bill?_id={{ bill._id }}', 'bill')">DEL</button></td>
            <td><a href="/edit-bill-form?_id={{ bill._id }}">Edit</a></td>
      </tr>
    {% endfor %}
  </table>


</div>
<script type="text/javascript">
  function confirmDelete(href, message){
    let c = confirm("Are you sure you want to remove this " +  message + "?");
    if(c){
      window.location.href = href;
    }
  }
</script>
{% endblock %}
